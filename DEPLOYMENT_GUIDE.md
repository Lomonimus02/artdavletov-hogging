# Руководство по деплою

Это руководство поможет вам выгрузить проект на GitHub и развернуть его на Render.

## Подготовка проекта

Проект уже подготовлен к деплою:
- ✅ Файл `render.yaml` настроен для Render
- ✅ `.gitignore` настроен для исключения ненужных файлов
- ✅ `package.json` содержит все необходимые скрипты
- ✅ Проект успешно собирается (`npm run build`)

## 1. Выгрузка на GitHub

### Шаг 1: Инициализация Git репозитория

```bash
# Инициализация Git (если еще не инициализирован)
git init

# Проверка статуса файлов
git status
```

### Шаг 2: Добавление файлов и создание коммита

```bash
# Добавление всех файлов в индекс
git add .

# Создание первого коммита
git commit -m "Initial commit: Architectural Studio website with multilingual support"
```

### Шаг 3: Создание репозитория на GitHub

1. Зайдите на [github.com](https://github.com)
2. Нажмите кнопку "New repository" (зеленая кнопка)
3. Введите название репозитория (например: `artdavletov-studio`)
4. Выберите "Public" или "Private"
5. НЕ добавляйте README, .gitignore или лицензию (они уже есть)
6. Нажмите "Create repository"

### Шаг 4: Подключение к удаленному репозиторию

```bash
# Добавление удаленного репозитория (замените YOUR_USERNAME и YOUR_REPO_NAME)
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git

# Переименование ветки в main (если нужно)
git branch -M main

# Отправка кода на GitHub
git push -u origin main
```

## 2. Деплой на Render

### Шаг 1: Создание аккаунта на Render

1. Зайдите на [render.com](https://render.com)
2. Нажмите "Get Started for Free"
3. Войдите через GitHub аккаунт

### Шаг 2: Создание Web Service

1. На панели управления Render нажмите "New +"
2. Выберите "Web Service"
3. Подключите ваш GitHub аккаунт (если еще не подключен)
4. Найдите и выберите ваш репозиторий
5. Нажмите "Connect"

### Шаг 3: Настройка деплоя

Render автоматически определит настройки из файла `render.yaml`:

- **Name**: artdavletov-hogging (или ваше название)
- **Environment**: Node
- **Build Command**: `npm ci && npm run build`
- **Start Command**: `npm start`
- **Plan**: Free

### Шаг 4: Запуск деплоя

1. Проверьте настройки
2. Нажмите "Create Web Service"
3. Render начнет процесс деплоя

### Процесс деплоя включает:

1. **Клонирование репозитория**
2. **Установка зависимостей**: `npm ci`
3. **Сборка проекта**: `npm run build`
4. **Запуск сервера**: `npm start`

## 3. Мониторинг деплоя

### Логи деплоя

В интерфейсе Render вы можете:
- Просматривать логи сборки
- Отслеживать статус деплоя
- Видеть ошибки (если есть)

### После успешного деплоя

1. Render предоставит вам URL вида: `https://your-app-name.onrender.com`
2. Сайт будет доступен по этому адресу
3. При каждом push в main ветку будет происходить автоматический редеплой

## 4. Обновление сайта

Для обновления сайта:

```bash
# Внесите изменения в код
# Добавьте изменения в Git
git add .

# Создайте коммит с описанием изменений
git commit -m "Update: описание изменений"

# Отправьте изменения на GitHub
git push origin main
```

Render автоматически обнаружит изменения и запустит новый деплой.

## 5. Полезные команды

### Проверка перед деплоем

```bash
# Проверка сборки локально
npm run build

# Запуск продакшен версии локально
npm run start

# Проверка линтером
npm run lint
```

### Git команды

```bash
# Просмотр статуса
git status

# Просмотр истории коммитов
git log --oneline

# Просмотр удаленных репозиториев
git remote -v
```

## 6. Возможные проблемы и решения

### Ошибка сборки

Если сборка не удалась:
1. Проверьте логи в Render
2. Убедитесь, что `npm run build` работает локально
3. Проверьте версии Node.js (требуется >= 18.0.0)

### Проблемы с изображениями

Убедитесь, что все изображения находятся в папке `public/images/`

### Проблемы с переводами

Проверьте файл `src/contexts/LanguageContext.tsx` на наличие дублирующихся ключей

## Требования к системе

- Node.js >= 18.0.0
- npm >= 8.0.0
- Git

## Поддержка

При возникновении проблем:
1. Проверьте логи в Render
2. Убедитесь, что проект собирается локально
3. Проверьте документацию Render: [docs.render.com](https://docs.render.com)
